\chapter{Постановка задачи}
\label{chapter1}

\section{Термины и понятия}

В данном разделе описаны термины, используемые других частях представленной работы. При этом смысл многих терминов сужен, по сравнению, с их обычным смыслом. Это связано, с тем, что данная работа ориентирована в первую очередь, разработку системы построения отчетов автотестов. В дальнейшем приведенные термины будут использоваться в указанных значениях, если не оговорено обратное.

\subsection{Программирование}

{\bf Веб-браузер, браузер (web browser)} --- 
программное обеспечение для просмотра веб-сайтов.

{\bf Веб-интерфейс (web-interface)} --- 
это совокупность средств, при помощи которых пользователь взаимодействует с веб-сайтом или любым другим приложением через браузер. Веб-интерфейсы получили широкое распространение в связи с ростом популярности всемирной паутины и соответственно --- повсеместного распространения веб-браузеров.

{\bf Программный интерфейс (application programming interface, API)} --- 
набор готовых классов, процедур, функций, структур и констант, предоставляемых приложением (библиотекой, сервисом) для использования во внешних программных продуктах. 

{\bf Фреймворк (framework)} --- 
структура программной системы; программное обеспечение, облегчающее разработку и объединение разных компонентов большого программного проекта.

\subsection{Тестирование}

{\bf Аттачмент (attachment)} ---
любая информация, например, скриншот или лог, которую надо сохранить вместе с результатами теста.  

{\bf История (user story, story)} ---
модуль, часть функциональности, из которых может состоять требование.

{\bf Контекст теста (test context, test fixture)} ---
все, что нужно тестируемой фреймворк чтобы мы могли ее протестировать. Например, наглядно понятно, что такое контекст теста в тестовом фреймворке RSpec:

\begin{itemize}
\item контекст --- множество фруктов содержащих = {яблоко, апельсин, грушу};
\item экспертиза --- удалим апельсин из множества фруктов;
\item проверка --- множество фруктов содержит = {яблоко, груша}.
\end{itemize}

{\bf Ошибка теста (test error)} ---
ошибка, возникающая в ходе выполнения теста. Например, ошибка может возникнуть в проверяемой системе, или в самом тесте. Также ошибка может возникнуть в окружении (например, в операционной системе, виртуальной машине). Как правило, ошибка в самом тесте, а не в проверяемой системе.

{\bf Падение теста (test failure)} ---
тест падает, когда в проверке утверждений актуальное значение не совпадает с ожидаемым. Обычно означает наличие ошибки в проверяемой системе.

{\bf Проблемно-ориентированное проектирование (DDD)} --- набор принципов и схем, помогающих разработчикам создавать изящные системы объектов. При правильном применении оно приводит к созданию программных абстракций, которые называются моделями предметных областей. В эти модели входит сложная бизнес-логика, устраняющая промежуток между реальными условиями области применения продукта и кодом.

{\bf Продуктовый тест} --- в данной работе автор под данным термином подразумевает высокоуровневые тесты, например, интеграционные и системные.

{\bf Разработка через тестирование (TDD, test-driven development)} ---
техника разработки программного обеспечения, которая основывается на повторении очень которких циклов:

\begin{itemize}
\item написание теста на новую/изменяемую функциональность;
\item имплементация функциональности. Тест должен пройти;
\item рефакторинг кода под соответствующие стандарты разработки.
\end{itemize}

{\bf Разработка через требования (BDD, behavior-driven development)} ---
Разновидность разработки через тестирование, сфокусированная на тестах в которых четко описаны ожидаемые требования к тестируемой системе. Упор делается на то, что тесты используются как документация работы системы.

{\bf Результат теста (test result)} ---
тест, или тест суит могут быть запущены несколько раз, и каждый раз возращать различные результаты проверок.

{\bf Тест} ---
некоторая процедура, котороая может быть выполена вручную или автоматически, и может быть использована для проверки ожидаемых требований к тестируемой системы. Тест часто называют тесткейсом.

{\bf Тест кейс (test case)} ---
обычно синоним для понятия "тест". В xUnit это также может обозначать тестовый класс, как месtex boldто в которое содержит тестовые методы.

{\bf Тест прошел (test success)} ---
ситуация, в которой проверка каждого утверждения в тесте прошла успешна (актуальные значения совпали с ожидаемыми), и в процессе выполенения теста не произошло никаких ошибок теста.

{\bf Тест ран (test run)} ---
запуск некоторого числа тестов или тестсуитов. После выполнения тестов из тестрана, мы можем получить их результаты.

{\bf Тест суит (test suite)} ---
способ наименования некоторого числа тестов, которые могут быть запущены вместе.

{\bf Тестируемая cистема (System Under Test)} ---
любая вещь, которую мы проверяем, например, метод, класс, объект, приложение.

{\bf Тестовый фреймворк (testing framework)} --- фреймворк, который используется для написания и запуска тестов.

{\bf Требование (feature)} ---
часть функциональности развивающейся системы, которая может быть протестирована.

{\bf Шаг (step)} ---
некоторая логическая часть теста. Каждый тест может состоять из одного или нескольких шагов. Как правило, шаги отображают сценарий теста.

{\bf Шаг теста (test step)} ---
смотри "Шаг".

{\bf Экстремальное программирование (XP)} ---
одна из гибких методологий разработки программного обеспечения

{\bf xUnit} ---
под этим термином подразумевается любой член семейства инфраструктур автоматизации тестов (Test Automation Framework), применяемых для автоматизации созданных вручную сценариев тестов. Для большинства современных языков программирования существует как минимум одна реализация xUnit. Обычно для автоматизации применяется тот же язык, который использовался для написания тестируемой ситстемы. Хотя это не всегда так, использовать подобную стратегию проще, поскольку тесты легко получают доступ к программному интерфейсу тестируемой системы.

{\bf WebDriver} ---
утилита, позволяющая эмулировать действия пользователя в различных браузерах.

Большинство членов xUnit реализованы с использованием объектно-ориентированной парадигмы.

\subsection{Сокращения}

{\bf SUT} --- System Under Test, смотри "Тестируемая система".

\section{Проблематика}

В современном мире развитие идет очень быстро. Требования к продуктам часто меняются, и надо уметь успевать за этими изменениями. Для этого, в частности, важно сокращение длительности релизного цикла программ. И в последнее время все чаще узким местом является тестирование. Для того, чтобы ускорить процесс тестирования, надо ускорить выполнение тестов и сократить время анализа результатов тестирования. В данной работе рассматривается инструмент, который помогает решить вторую задачу --- ускорение анализа результатов тестирования. Но обо всем по порядку.

\subsection{JUnit}

Последние 12 лет тесты пишутся с использованием фреймворков xUnit, в частности JUnit~\cite{junit_home} (в дальнейшем будет рассматриваться именно JUnit, как основа фреймворков xUnit). JUnit предоставляет систему для запуска тестов, также предоставляет отчет для анализа результатов. 
фреймворк был разработан Кент Беком (Kent Beck~\cite{kent_beck}), автором таких методологий разработки ПО как экстремальное программирование (XP) и разработка через тестирование (TDD), в 2002 году. 
Данный фреймворк ориентирован прежде всего на написание модульных тестов, однако последнее время сильно увеличилось количество функциональных тестов. Это связано, прежде всего, с сильным развитием интерфейсов (в частности, web-интерфейсов). И в случае функциональных тестов данный фреймворк предоставляет мало информации. Решением данной проблемы являлось появления методологии разработки через требования.

\subsection{Разработка через тестирование}

Методология разработки через тестирования комбинирует в себе основные техники и практики из TDD с идеями из DDD и объектно-ориентированным проектированием. В данном подходе основная задача ставится в описании требований (спецификаций) к тестируемой системе и дальнейшей проверки системы на удовлетворение этим требованиям. 

В скором времени начали появляться фреймворки, основанные на BDD. Как правило, в данных фреймворках идет абстрагирование от кода тестов, и вынесение спецификаций к фреймворку на уровень описания. Например, следующим образом выглыдит спецификация в JBehave~\cite{jbehave_home}:

\begin{lstlisting}[caption=Пример спецификации JBehave]
Given a 5 by 5 game
When I toggle the cell at (2, 3)
Then the grid should look like
.....
.....
.....
..X..
.....
When I toggle the cell at (2, 4)
Then the grid should look like
.....
.....
.....
..X..
..X..
When I toggle the cell at (2, 3)
Then the grid should look like
.....
.....
.....
.....
..X..
\end{lstlisting}

Именно идеи BDD были взяты в основу разработаного автором фреймворка, получившего название Allure.

\subsection{Allure}

Первым, и самым важным отличием разработываемого фреймворка было то, что он не выполняет тесты, а просто собирает информацию о ходе их выполнения. Также, разрабатываемый фреймворк должен уметь предоставлять результаты как в виде BDD, так и в виде xUnit. Еще одной важной идеей было то, что отчет должен быть простым и понятным каждому. Это позволит ввести дополнительный уровень контроля над тестировщиками. В больших компаниях часто возникает проблема, когда тестировщик не в полной мере ответственно подходит к анализу результатов. А другому человеку будет сложно понять, что же конкретно тестируется, не разбираясь в коде тестов. 

Взяв за основу данные идеи было проведено исследование, которое позволило сформулировать более подробные требования к разрабатываемой системе.
