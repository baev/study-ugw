# ПОЯСНИТЕЛЬНАЯ ЗАПИСКА

## Введение

Основная цель работы - ???

Во всех реализация xUnit предоставляется базовый набор функций, которые позволяют решать следующие задачи:

* описывать тест как тестовый метод (Test Method);
* описывать ожидаемые результаты внутри тестового метода в форме вызовов методов с утверждением (Assertion Method);
* аггрегировать тесты в наборы, которые могут запускаться с помощью одной команды;
* запускать один или несколько тестов для получения отчета о результатах запуска.

Этого достаточно, если речь идет о модульном тестировании (Unit testing). Но для более высокоуровневых тестов, например, проудктовых (Product testing), этого недостаточно. Такие тесты могут выполняться часы, в них проверяется много утверждений. В рамках стандартной модели xUnit анализировать результаты таких тестов достаточно проблематично. Например, тест, проверяющий наличие логотипа на заглавной странице сайта, со следующим сценарием:

* открываем браузер;
* переходим страницу сайта;
* находим элемент, содержащий логотип;
* сравниваем найденный логотип с образцом;
* закрываем браузер

может не пройти из-за следующих причин:

* не получилось открыть браузер;
* нет подключения к интернету;
* не получилось перейти на страницу сайта;
* нету элемента, содержащего логотип;
* логотип не совпадает с образцом;
* не получилось закрыть браузер.

В рамках модели xUnit мы получим сообщение об ошибке, по которому будет достаточно сложно понять, что произошло. 
А если разбить тест на шаги (Steps) и добавить к результатам теста скришот сайта, то анализ ошибки не займет много времени.

Отсюда возникает следующая задача: разработать систему, позволяющую агрегировать дополнительную информацию о тестах и отображать ее в отчете о результатах тестов. Система не должна контролировать процесс выполнения самих тестов, а должна предоставлять API адаптации уже написанных тестов.

В данной работе будет описан процесс разработки такой системы. 

Во второй главе, на основании анализа различных систем построения отчетов автотестов, а также опыта написания тестирования, сформулированы основные принципы для организации системы. 

В третьей главе приведена подробная архитектура Allure, позволяющая легко интегрироваться с любыми существующими
тестовыми фремворками и расширять имующийся функционал. Подробно описана интеграция новых фремворков, и новых систем сборки.

В заключении дано описание текущего состояния разработки и перспективы
ее развития.

## Глава 1. Постановка задачи

На момент написания работы аналогичных стестем не было. ???

### 1.1. Термины и понятия

В данном разделе описаны термины, используемые других частях представленной работы. При этом смысл многих 
терминов сужен, по сравнению, с их обычным смыслом. Это связано, с тем, что данная работа ориентирована в
первую очередь, разработку системы построения отчетов автотестов. В дальнейшем приведенные термины будут использоваться в указанных значениях, если не оговорено обратное.

#### 1.1.1. Тестирование

##### Разработка через требования (BDD, behavior-driven development)
Разновидность разработки через тестирование, сфокусированная на тестах в которых четко описаны ожидаемые требования к тестируемой системе. Упор делается на то, что тесты используются как документация работы системы.

##### Фича (feature)
Часть функциональности развивающейся системы, которая может быть протестирована. 

##### Тест (test)
Некоторая процедура, котороая может быть выполена вручную или автоматически, и может быть использована для проверки 
ожидаемых требований к тестируемой системы. Тест часто называют тесткейсом.

##### Тесткейс (test case)
Обычно синоним для понятия "тест". В xUnit это также может обозначать тестовый класс, как место в которое содержит тестовые методы.

##### Контекст теста (test context, test fixture)
Все, что нужно тестируемой системе чтобы мы могли ее протестировать.
Например, RSpec
calls the test ﬁ xture (as used in xUnit) a “context.” 
Context: a set fruits with 
 contents = {apple, orange, pear}
Exercise: remove orange from the fruits set
Verify: fruits set contents = {apple, pear}
In this example, the ﬁ xture consists of a single set and is created directly in the 
test. How we choose to construct the ﬁ xture has very farreaching ramiﬁcations 
for all aspects of test writing and maintenance.

##### TDD, test-driven development

##### test error 
When a test is run, an error that keeps the test from running to completion. The 
error may be explicitly raised or thrown by the system under test (SUT) or by 
the test itself, or it may be thrown by the runtime system (e.g., operating system, 
virtual machine). In general, it is much easier to debug a test error than a test
failure because the cause of the problem tends to be much more local to where 
the test error occurs. Compare with test failure and test success.

##### test failure 
When a test is run and the actual outcome does not match the expected outcome. Compare with test error and test success.

##### test result 
A test or test suite can be run many times, each time yielding a different test 
result.

##### test run 
A test or test suite can be run many times, each time yielding a different test
result. Some commercial test automation tools record the results of each test run 
for prosperity.

##### test success 
A situation in which a test is run and all actual outcomes match the expected 
outcomes. Compare with test failure and test error.

##### test suite 
A way to name a collection of tests that we want to run together.

##### user story (or just story)
The unit of incremental development in eXtreme Programming. We must INVEST 
in good user stories—that is, each user story must be Independent, Negotiable, 
Valuable, Estimatable, Small, and Testable [XP123]. A user story corresponds 
roughly to a “feature” in non-eXtreme Programming terminology and is typically 
decomposed into one or more tasks to be carried out by project team members.

##### xUnit 
Под термином "xUnit" подразумевается любой член семейства инфраструктур автоматизации тестов (Test Automation Framework), применяемых для автоматизации созданных вручную сценариев тестов. Для большинства современных языков программирования существует как минимум одна реализация xUnit. Обычно для автоматизации применяется тот же язык, который использовался для написания тестируемой ситстемы. Хотя это не всегда так, использовать подобную стратегию проще, поскольку тесты легко получают доступ к программному интерфейсу тестируемой системы.

Большинство членов xUnit реализованы с использованием объектно-ориентированной парадигмы.

#### 1.2. Обоснование актуальности

В последнее время начало появляться большое количество продуктовых тестов. Только в нашем отделе тестирования в Яндексе ежедневно запускается несколько миллионов таких тестов. Анализировать результаты такого количества тестов очень затруднительно. 

#### 1.3. Обзор существующих систем

* surefire. Содержит простую таблицу с именем теста и его статусом. В случае наличия ошибки есть стектрейс. Для больших запусков (20-30 тысяч тесткейсов) даже открыть отчет затруднительно.

* Thucydides - инструмент для быстрого написания тестов с использованием WebDriver. По стути - набстройка над jUnit. Управляет ходом выполнения тестов, по сути является тестовым фремворком, а не фремворком для построения отчетов. Однако, строит отчет. Минусы - слишком много ограничений: только jUnit, только такой синтаксис, только такая логика поведения тестов, слишком много проблем: постоянные проблемы, возникающие из-за того, что это очень большая сложная система. Отчет содержит допольнительную информацию, в отличие от surefire, и есть возможность разбивать тесты на шаги. Но нет возможности добавлять к тесту произвольную информацию. Также не совсем удобное отображение тестов в отчете.

#### 1.4. Технический и организационный контекст

#### 1.5. Уточненные требования к работе

### Глава 2. Теоритические результаты

#### 2.1. Анализ предыдущих разработок

### Глава 3. Проектирование программного продукта

### Заключение

В даннай работе создан фреймворк для генерации отчетов автотестов. Фремворк легко адапатируется к другим системам.

### Список литературы

### Приложения
